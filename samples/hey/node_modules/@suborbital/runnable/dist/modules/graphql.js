"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const base_1 = require("./base");
const helpers_1 = require("./helpers");
const decoder = new TextDecoder();
class GraphQL extends base_1.default {
    query(endpoint, query, headers) {
        const headerString = headers ? (0, helpers_1.renderHeaderString)(headers) : "";
        const url = endpoint + headerString;
        const resultSize = this.env.graphqlQuery(url, query, this.ident);
        const result = this.ffiResult(resultSize);
        return decoder.decode(result);
    }
}
exports.default = GraphQL;
