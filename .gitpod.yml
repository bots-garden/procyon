---
image:
  file: .gitpod.dockerfile

tasks:
  - name: initialize
    before: |

      echo "ðŸš€"

    init: |
      
      # ------------------------------------
      # Install sat
      # ------------------------------------
      git clone https://github.com/suborbital/sat.git
      cd sat
      make sat
      cp .bin/sat ../executors
      cd ..
      rm -rf sat

      # ------------------------------------
      # Build Venusia Registry 
      # ------------------------------------
      cd venusia
      go build

      cd certs
      ./generate.sh
      cd ../..

ports:
  - port: 8080
    visibility: public
  - port: 8888
    visibility: public
  - port: 3000
    visibility: public
  - port: 9090
    visibility: public
  - port: 9999
    visibility: public

vscode:
  extensions:
    - wayou.vscode-todo-highlight
    - pkief.material-icon-theme
    - golang.go
    - bpruitt-goddard.mermaid-markdown-syntax-highlighting
    - bierner.markdown-mermaid
