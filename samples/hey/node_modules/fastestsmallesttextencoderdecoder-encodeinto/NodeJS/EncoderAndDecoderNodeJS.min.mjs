'use strict';var e="undefined"==typeof global?"undefined"===typeof self?{}:self:global,q=String.fromCharCode,r={}.toString,t=e.SharedArrayBuffer,v=t?r.call(t):"",w=e.Uint8Array,x=w?r.call(ArrayBuffer.prototype):"",y=e.Buffer;try{!y&&e.require&&(y=e.require("Buffer"));var z=y.prototype,A=r.call(z)}catch(c){}var B=y.allocUnsafe,C=!!w&&!y,D=/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,E=new Uint16Array(32),F=!y||!!w&&w.prototype.isPrototypeOf(z),H=G.prototype;function I(){}
function J(c){var a=c&&c.buffer||c,f=r.call(a);if(f!==x&&f!==A&&f!==v&&"[object ArrayBuffer]"!==f&&void 0!==c)throw TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");c=F?new w(a):a||[];f=a="";for(var d=0,b=c.length|0,k=b-32|0,g,h,l=0,u=0,n,m=0,p=-1;d<b;){for(g=d<=k?32:b-d|0;m<g;d=d+1|0,m=m+1|0){h=c[d]&255;switch(h>>4){case 15:n=c[d=d+1|0]&255;if(2!==n>>6||247<h){d=d-1|0;break}l=(h&7)<<6|n&63;u=5;h=256;case 14:n=c[d=d+1|0]&
255,l<<=6,l|=(h&15)<<6|n&63,u=2===n>>6?u+4|0:24,h=h+256&768;case 13:case 12:n=c[d=d+1|0]&255,l<<=6,l|=(h&31)<<6|n&63,u=u+7|0,d<b&&2===n>>6&&l>>u&&1114112>l?(h=l,l=l-65536|0,0<=l&&(p=(l>>10)+55296|0,h=(l&1023)+56320|0,31>m?(E[m]=p,m=m+1|0,p=-1):(n=p,p=h,h=n))):(h>>=8,d=d-h-1|0,h=65533),l=u=0,g=d<=k?32:b-d|0;default:E[m]=h;continue;case 11:case 10:case 9:case 8:}E[m]=65533}f+=q(E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8],E[9],E[10],E[11],E[12],E[13],E[14],E[15],E[16],E[17],E[18],E[19],E[20],E[21],
E[22],E[23],E[24],E[25],E[26],E[27],E[28],E[29],E[30],E[31]);32>m&&(f=f.slice(0,m-32|0));if(d<b){if(E[0]=p,m=~p>>>31,p=-1,f.length<a.length)continue}else-1!==p&&(f+=q(p));a+=f;f=""}return a}I.prototype.decode=J;
function K(c){var a=c.charCodeAt(0)|0;if(55296<=a)if(56320>a)if(c=c.charCodeAt(1)|0,56320<=c&&57343>=c){if(a=(a<<10)+c-56613888|0,65535<a)return q(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else a=65533;else 57343>=a&&(a=65533);return 2047>=a?q(192|a>>6,128|a&63):q(224|a>>12,128|a>>6&63,128|a&63)}function G(){}
function L(c){c=void 0===c?"":""+c;var a=c.length|0,f=C?new w((a<<1)+8|0):B?B((a<<1)+8|0):new y((a<<1)+8|0),d,b=0,k=!1;for(d=0;d<a;d=d+1|0,b=b+1|0){var g=c.charCodeAt(d)|0;if(127>=g)f[b]=g;else{if(2047>=g)f[b]=192|g>>6;else{a:{if(55296<=g)if(56320>g){var h=c.charCodeAt(d=d+1|0)|0;if(56320<=h&&57343>=h){g=(g<<10)+h-56613888|0;if(65535<g){f[b]=240|g>>18;f[b=b+1|0]=128|g>>12&63;f[b=b+1|0]=128|g>>6&63;f[b=b+1|0]=128|g&63;continue}break a}g=65533}else 57343>=g&&(g=65533);!k&&d<<1<b&&d<<1<(b-7|0)&&(k=!0,
h=C?new w(3*a):B?B(3*a):new y(3*a),h.set(f),f=h)}f[b]=224|g>>12;f[b=b+1|0]=128|g>>6&63}f[b=b+1|0]=128|g&63}}return f.subarray(0,b)}
function M(c,a){var f=void 0===c?"":(""+c).replace(D,K),d=f.length|0,b=0,k=0,g=a.length|0,h=c.length|0;g<d&&(d=g);a:for(;b<d;b=b+1|0){c=f.charCodeAt(b)|0;switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:k=k+1|0;case 8:case 9:case 10:case 11:break;case 12:case 13:if((b+1|0)<g){k=k+1|0;break}case 14:if((b+2|0)<g){k=k+1|0;break}case 15:if((b+3|0)<g){k=k+1|0;break}default:break a}a[b]=c}return{written:b,read:h<k?h:k}}H.encode=L;H.encodeInto=M;
function N(c,a){var f=c[a];return function(){return f.apply(c,arguments)}}var O=e.TextDecoder,P=e.TextEncoder,Q,R=M;P&&(Q=new P,R=Q.encodeInto?N(Q,"encodeInto"):P.prototype.encodeInto=function(c,a){var f=c.length|0,d=a.length|0;if(f<d>>1){var b=Q.encode(c);if((b.length|0)<d)return a.set(b),{read:f,written:b.length|0}}return M(c,a)});
var TextDecoder=O||I,TextEncoder=P||G,decode=O?N(new O,"decode"):J,encode=P?N(Q,"encode"):L,encodeInto=R;export{TextDecoder,TextEncoder,decode,encode,encodeInto};//AnonyCo
//# sourceMappingURL=https://cdn.jsdelivr.net/gh/AnonyCo/FastestSmallestTextEncoderDecoder/encodeInto/NodeJS/EncoderAndDecoderNodeJS.min.mjs.map
